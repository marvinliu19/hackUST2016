<!DOCTYPE html>
<html lang="en">
  <head>
      <link rel="stylesheet" type="text/css" href="bootstrap.css">
      <!--<link rel="stylesheet" type="text/css" href="bootstrap.min.css">-->

    <title>Ja Feel</title>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.1.1/Chart.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

  </head>
  <body>
    <h1> QUERY: {{ query }} </h1>
    <script type="text/javascript">
      var feeling_data_raw = jQuery.parseJSON('{{ feeling_data }}'.replace(/&quot;/g,'"'));
      var feeling_labels = [];
      var feeling_data = [];

      for (var key in feeling_data_raw) {
        if (feeling_data_raw.hasOwnProperty(key)) {
          feeling_labels.push(key);
          feeling_data.push(feeling_data_raw[key]);
        }
      }

      var feeling_data = {
          labels: feeling_labels,
          datasets: [
            {
              fillColor: "rgba(0,0,0,0)",
              strokeColor: "rgba(151,187,205,1)",
              pointColor: "rgba(151,187,205,1)",
              pointStrokeColor: "#fff",
              data: feeling_data
            },
          ]
        };

      var retweet_data_raw = jQuery.parseJSON('{{ retweet_data }}'.replace(/&quot;/g,'"'));
      var retweet_labels = [];
      var retweet_data = [];

      for (var key in retweet_data_raw) {
        if (retweet_data_raw.hasOwnProperty(key)) {
          retweet_labels.push(key);
          retweet_data.push(retweet_data_raw[key]);
        }
      }

      var retweet_data = {
          labels: retweet_labels,
          datasets: [
            {
              fillColor: "rgba(0,0,0,0)",
              strokeColor: "rgba(151,187,205,1)",
              pointColor: "rgba(151,187,205,1)",
              pointStrokeColor: "#fff",
              data: retweet_data
            }
          ]
        };

      window.onload = function() {
        var feeling_ctx = $("#feeling").get(0).getContext("2d");
        var retweet_ctx = $("#retweet").get(0).getContext("2d");

        var feeling_chart = new Chart(feeling_ctx).Line(feeling_data, {
          scaleShowVerticalLines: false
        });

        var retweet_chart = new Chart(retweet_ctx).Line(retweet_data, {
          scaleShowVerticalLines: false
        });
      };

    </script>

    <div style="width: 50%">
        <canvas id="feeling" height="450" width="800"></canvas>
    </div>

    <div style="width: 50%">
        <canvas id="retweet" height="450" width="800"></canvas>
    </div>

  </body>
</html>
